{"version":3,"sources":["../src/item-finder.js"],"names":["template","elements","_csv_string","create_templates","__elements","item_table","document","getElementById","Proxy","get","target","property","undefined","deleteProperty","remove","[object Object]","x","clone","clone_template","header_cell_base","firstElementChild","insertAdjacentHTML","cell","this","_header_cell","setAttribute","header_base","appendChild","wiki_link_base","href","encodeURIComponent","wiki_search_base","initialize_page","listeners","save_file_input","event","file_opened","filter","filter_table","down_button","download_as_csv","body","preventDefault","qsa","map","click","element","type","callback","addEventListener","file","loading_screen","show_loading","show_input","window","DragEvent","dataTransfer","dropEffect","files","HTMLInputElement","show_element","error","reader","FileReader","onload","save_game","parse_xml","get_files","then","requests","items","process_xslt","array_to_table","csv_to_array","xslt_output_to_text","show_initial_sort_direction","finally","catch","readAsText","get_previous_save","csv","localStorage","getItem","qs","selector","querySelector","querySelectorAll","content","cloneNode","array","table","make_html_table","make_header","set_output","enable_table_sort","enable_wiki_click","hide_element","hidden","loading","input","text","DOMParser","parseFromString","paths","path","push","fetch","Promise","all","xslt","xml","xslt_processor","XSLTProcessor","importStylesheet","transformToFragment","Document","text_node","wholeText","setItem","split","slice","cell_text","createTextNode","csv_row","table_row","insertRow","index","csv_cell","entries","row_header_cell","table_cell","insertCell","icons","replace_icon","format_integer","html","DocumentFragment","row","append","column_header_cell","tHead","header","quality_name","silver","gold","iridium","number","toString","replace","readyState","location","origin","includes","navigator","serviceWorker","register","previous_output","calculate_sum","table_container","parse_integer","match","Number","join","foot","tFoot","tot_price","tot_count","current_hidden_filter_class","_filter_class","rows","tBodies","classList","contains","cells","textContent","blank","add_click_event","key","get_header_cells","cellIndex","next_sort_ascending","getAttribute","sort_table","focus","qualities","sorts","test","a","compare","b","indexOf","localeCompare","column_index","ascending","csv_array","sorting_array","sort","splice","header_cells","length","createElement","removeChild","value","search","RegExp","last_last_filter_class","filter_class_name","last_last_filter_class_name","remove_wiki_descriptions","add","style","styleSheets","insertRule","deleteRule","page_title","normalize_names","wiki_description_by_title","parentElement","rowIndex","className","colSpan","result","innerHTML","wiki_link","message","wiki_search","async","title","fetch_url","URLSearchParams","action","format","formatversion","redirects","prop","titles","request","data","json","query","pages","pageprops","description","Error","descriptions","_prefixed_items","name","item"],"mappings":"AAYA,IAAIA,EAAUC,EA2UVC,EArUJ,SAASC,IAYL,MAAMC,EAAa,CACfC,WAA6CC,SAASC,eAAe,eAmBzEN,EAAW,IAAIO,MAAMJ,EAhBI,CACrBK,IAAG,CAACC,EAAQC,UACiBC,IAArBF,EAAOC,IAAgD,OAArBD,EAAOC,KACzCD,EAAOC,GAAYL,SAASC,eAAeI,IAExCD,EAAOC,IAGlBE,eAAc,CAACH,EAAQC,KACnBD,EAAOC,GAAUG,gBACVJ,EAAOC,IAEP,KA4DfX,EAAW,IAAIQ,MAhDI,CACfO,aAAaC,GACT,MAAMC,EAAQC,EAAejB,EAASkB,kBAAkBC,kBAGxD,OAFAH,EAAMI,mBAAmB,YAAaL,GAEW,GAErDD,mBAAmBC,GACf,MAAMM,EAAOC,KAAKC,aAAaR,GAG/B,OAFAM,EAAKG,aAAa,QAAS,OAEpBH,GAEXP,gBAAgBC,GACZ,MAAMM,EAAOC,KAAKC,aAAaR,GAG/B,OAFAM,EAAKG,aAAa,QAAS,OAEpBH,GAEXP,OAAOC,GACH,MAAMC,EAAQC,EAAejB,EAASyB,aAAaN,kBAGnD,OAFAH,EAAMU,YAAYX,GAEXC,GAEXF,UAAUC,GACN,MAAMC,EAA0CC,EAAejB,EAAS2B,gBAAiC,kBAGzG,OAFAX,EAAMY,MAAQC,mBAAmBd,GAE1BC,GAEXF,YAAYC,GACR,MAAMC,EAA0CC,EAAejB,EAAS8B,kBAAmC,kBAG3G,OAFAd,EAAMY,MAAQC,mBAAmBd,GAE1BC,IAIU,CACrBR,IAAG,CAACC,EAAQC,UACiBC,IAArBF,EAAOC,KACPD,EAAOC,GAAY,IAAMO,EAAejB,EAAYU,EAAH,UAAqBS,mBAEnEV,EAAOC,MAY1B,SAASqB,IACL7B,IAEA,MAAM8B,EAAY,CACd,CAAChC,EAASiC,gBAAiB,SAAUC,GAASC,EAAYD,IAC1D,CAAClC,EAASoC,OAAQ,QAAS,IAAMC,KACjC,CAACrC,EAASsC,YAAa,QAAS,IAAMC,EAAgBtC,IACtD,CAACI,SAASmC,KAAM,WAAYN,GAASA,EAAMO,kBAC3C,CAACpC,SAASmC,KAAM,OAAQN,GAASC,EAAYD,OAC1C,IAAIQ,EAAI,YAAYC,KAAI5B,GAAK,CAACA,EAAG,YAAamB,IAC7CA,EAAMO,iBACNP,EAAMzB,OAAOmC,aAGrB,IAAK,MAAOC,EAASC,EAAMC,KAAaf,EACpCa,EAAQG,iBAAiBF,EAAMC,GA2BvC,SAASZ,EAAYD,GAIjB,IAAIe,EACJ,GAJAf,EAAMO,iBACNS,EAAe,CAACC,cAAc,EAAMC,YAAY,IAG5ClB,aAAiBmB,OAAOC,UACxBpB,EAAMqB,aAAaC,WAAa,OAChCP,EAAOf,EAAMqB,aAAaE,MAAM,OAC7B,CAAA,KAAIvB,EAAMzB,kBAAkB4C,OAAOK,kBAMtC,YAFAC,EAAa3D,EAAS4D,OAFtBX,EADcf,EAAMzB,OACPgD,MAAM,GAOvB,MAAMI,EAAS,IAAIC,WACnBD,EAAOE,OAAS,WACZ,MACMC,EAAYC,EAD2BJ,EAAa,QAG1DK,EAAU,CAAC,oBAAqB,6BAA6BC,MACzD,SAAUC,GACN,MAAMC,EAAQC,EAAaL,EAAUG,EAAS,IAAKJ,GAGnDO,EAAeC,EAAaC,EAFhBH,EAAaL,EAAUG,EAAS,IAAKC,MAGjDK,OAEHC,SAAQ,IAAMzB,EAAe,CAACC,cAAc,EAAOC,YAAY,MAC/DwB,OAAM,IAAMjB,EAAa3D,EAAS4D,UAE3CC,EAAOgB,WAAW5B,GAUtB,SAAS6B,IACL,MAAMC,EAAMC,aAAaC,QAAQ,OAC7BF,IACA7B,EAAe,CAACC,cAAc,EAAMC,YAAY,IAChDnD,EAAc8E,EACdR,EAAeC,EAAaO,IAC5BL,IACAxB,EAAe,CAACC,cAAc,EAAOC,YAAY,KAWzD,SAAS8B,EAAGC,GACR,OAAO9E,SAAS+E,cAAcD,GAUlC,SAASzC,EAAIyC,GACT,OAAO9E,SAASgF,iBAAiBF,GAUrC,SAASlE,EAAe4B,GACpB,OAAmCA,EAAQyC,QAAQC,WAAU,GASjE,SAAShB,EAAeiB,GACpB,IAAIC,EAAQ1F,EAAS0F,QACrBA,EAAQC,EAAgBF,EAAOC,GAC/BA,EAAQE,EAAYH,EAAOC,GAC3BG,EAAWH,GACXI,IACAC,IASJ,SAASC,EAAalD,GAClBA,EAAQmD,QAAS,EASrB,SAASrC,EAAad,GAClBA,EAAQmD,QAAS,EASrB,SAAS9C,GAAeC,aAACA,GAAe,EAAIC,WAAEA,GAAa,GAAQ,IAC/D,MAAM6C,EAAUjG,EAASiG,QACnBC,EAAQhB,EAAG,8BAEb/B,GACAQ,EAAasC,GACR7C,GAAY2C,EAAaG,KAE9BvC,EAAauC,GACbH,EAAaE,IAWrB,SAAShC,EAAUkC,GAGf,OAFmB,IAAIC,WAELC,gBAAgBF,EAAM,YAU5C,SAASjC,EAAUoC,GACf,MAAMlC,EAAW,GACjB,IAAK,MAAMmC,KAAQD,EACflC,EAASoC,KAAKC,MAAMF,GAAMpC,MAAKpD,GAAKA,EAAEoF,UAE1C,OAAOO,QAAQC,IAAIvC,GAWvB,SAASE,EAAasC,EAAMC,GACxB,MAAMC,EAAiB,IAAIC,cAE3BD,EAAeE,iBAAiBJ,GAGhC,OAFkBE,EAAeG,oBAAoBJ,EAAK,IAAIK,UAoBlE,SAASzC,EAAoBoC,GACzB,MAAMM,EAAiCN,EAAc,WAIrD,OAHA5G,EAAckH,EAAUC,UACxBpC,aAAaqC,QAAQ,MAAOpH,GAErBA,EAcX,SAASuE,EAAaO,GAClB,OAAOA,EACFuC,MAAM,MACN3E,KAAI5B,GAAKA,EAAEuG,MAAM,OACjBC,MAAM,GAAI,GAUnB,SAASC,EAAUnG,EAAM8E,GACrB9E,EAAKK,YAAYrB,SAASoH,eAAetB,IAW7C,SAAST,EAAgBF,EAAOC,GAC5B,IAAK,MAAMiC,KAAWlC,EAAM+B,MAAM,GAAI,CAClC,MAAMI,EAAYlC,EAAMmC,YAExB,IAAK,MAAOC,EAAOC,KAAaJ,EAAQK,UACpC,OAAQF,GACJ,KAAK,EACDF,EAAUjG,YAAY3B,EAASiI,gBAAgBF,IAC/C,MAEJ,KAAK,EAAG,CACJ,MAAMG,EAAaN,EAAUO,aACvBC,EAAQC,EAAaN,GAC3BG,EAAWvG,YAAYyG,GACvB,MAEJ,QAEIX,EADmBG,EAAUO,aACPG,EAAeP,KAKrD,OAAOrC,EAWX,SAASE,EAAYH,EAAOC,GACxB,MAAM6C,EAAO,IAAIC,iBACXC,EAAMhD,EAAM,GAClB,IAAK,MAAMnE,KAAQmH,EACfF,EAAKG,OAAO1I,EAAS2I,mBAAmBrH,IAI5C,OAFAoE,EAAMkD,MAAMjH,YAAY3B,EAAS6I,OAAON,IAEjC7C,EAWX,SAAS2C,EAAaS,GAClB,OAAQA,GACJ,IAAK,SACD,OAAO9I,EAAS+I,SACpB,IAAK,OACD,OAAO/I,EAASgJ,OACpB,IAAK,UACD,OAAOhJ,EAASiJ,UACpB,IAAK,GAEL,QACI,OAAO3I,SAASoH,eAAe,KAW3C,SAASY,EAAeY,GACpB,OAAOA,EAAOC,WAAWC,QAAQ,wBAAyB,KAxVlC,YAAxB9I,SAAS+I,WACT/I,SAAS2C,iBAAiB,mBAAoBjB,GAE9CA,IAIJsB,OAAOL,iBAAiB,QAAQ,WAC5B8B,IAEKzB,OAAOgG,SAASC,OAAOC,SAAS,cACjCC,UAAUC,cAAcC,SAAS,wBAsVzC,MAAM9D,EAAa,WACf,IAAI+D,GAAkB,EAEtB,OAAO,SAAUlE,GACbM,EAAab,EAAG,YAEZyE,UACO3J,EAASI,WAEpBqF,EAAQmE,EAAcnE,GAEJzF,EAAS6J,gBACjBnI,YAAY+D,GAEtB9B,EAAauB,EAAG,YAChByE,GAAkB,GAfP,GA2BnB,SAASG,EAAcb,GACnB,MAAMc,EAAQd,EAAOc,MAAM,OAE3B,OAAOA,EAAQC,OAAOD,EAAME,KAAK,KAAO,EAS5C,SAASL,EAAcnE,GACnB,MAAMyE,EAAOzE,EAAM0E,MACnB,IAAIC,EAAY,EACZC,EAAY,EAChB,MAAMC,EAA8B,UAAUC,EAE9C,KAAOL,EAAKM,KAAK,IACbN,EAAKM,KAAK,GAAG3J,SAGjB,IAAK,MAAM2H,KAAO/C,EAAMgF,QAAQ,GAAGD,KAC3BhC,EAAIkC,UAAUC,SAASL,KAG3BD,GAAaP,EAActB,EAAIoC,MAAM,GAAGC,aACxCT,GAAaN,EAActB,EAAIoC,MAAM,GAAGC,cAG5C,MAAMrC,EAAM0B,EAAKtC,YACXkD,EAAQ,IAAMtD,EAAUgB,EAAIN,aAAc,IAShD,OAPAV,EAAUgB,EAAIN,aAAc,SAC5B4C,IACAA,IACAtD,EAAUgB,EAAIN,aAAcG,EAAegC,IAC3CS,IACAtD,EAAUgB,EAAIN,aAAcG,EAAe+B,IAEpC3E,EAcX,SAASsF,EAAgBlI,EAASE,GAC9BF,EAAQG,iBAAiB,QAASD,GAElCF,EAAQrB,aAAa,WAAY,KACjCqB,EAAQG,iBAAiB,WAAW,SAAUd,GACxB,UAAdA,EAAM8I,KAAiC,MAAd9I,EAAM8I,MAC/B9I,EAAMO,iBACNM,EAASb,OAUrB,SAAS2D,IACL,MAAMoF,EAAmB,IAAMjL,EAASI,WAAWuI,MAAM6B,KAAK,GAAGI,MAEjE,IAAK,MAAMvJ,KAAQ4J,IACfF,EAAgB1J,GAAM,UAAUZ,OAACA,IAC7B,MAAMoH,EAAQpH,EAAOyK,UACfC,EAA2D,cAArC1K,EAAO2K,aAAa,aAEhDC,EAAWxD,EAAOsD,GAElBF,IAAmBpD,GAAOyD,QAC1BL,IAAmBpD,GAAOrG,aAAa,YAAa2J,EAAsB,YAAc,cACxF9I,OAMZ,MAAMgJ,EAAa,WACf,MAAME,EAAY,CAAC,UAAW,OAAQ,SAAU,IAC1CC,EAAQ,CACV,CACIC,KAAKC,GAAY,KAAKD,KAAKC,GAC3BC,QAAO,CAACD,EAAGE,IAAY9B,EAAc4B,GAAK5B,EAAc8B,IAE5D,CACIH,KAAKC,IAAsC,IAA1BH,EAAUM,QAAQH,GACnCC,QAAO,CAACD,EAAGE,IAAYL,EAAUM,QAAQD,GAAKL,EAAUM,QAAQH,IAEpE,CACID,KAAI,KAAY,EAChBE,QAAO,CAACD,EAAGE,IAAYF,EAAEI,cAAcF,KAU/C,OAAO,SAAUG,EAAcC,GAAY,GACvC,MAAMC,EAAYzH,EAAavE,GACzBiM,EAAgBD,EAAU1E,MAAM,GACtC,IAAIoE,EAEJ,IAAK,MAAMQ,KAAQX,EACf,GAAIW,EAAKV,KAAKS,EAAc,GAAGH,IAAgB,CAEvCJ,EADAK,EACU,CAACN,EAAGE,IAAMO,EAAKR,QAAQD,EAAEK,GAAeH,EAAEG,IAE1C,CAACL,EAAGE,IAAMO,EAAKR,QAAQC,EAAEG,GAAeL,EAAEK,IAExD,MAIRG,EAAcC,KAAKR,GAEnBO,EAAcE,OAAO,EAAG,EAAGH,EAAU,IACrC1H,EAAe2H,IA1CJ,GAmDnB,SAASxH,IACL,MAAM2H,EAAerM,EAASI,WAAWuI,MAAM6B,KAAK,GAAGI,MAEvDyB,EAAaA,EAAaC,OAAS,GAAG9K,aAAa,YAAa,cAUpE,SAASe,EAAgB4D,GACrB,MAAMtD,EAAUxC,SAASkM,cAAc,KACvC1J,EAAQrB,aAAa,OAAQ,+BAA+BK,mBAAmBsE,IAC/EtD,EAAQrB,aAAa,WAAY,4BACjCuE,EAAalD,GAEbxC,SAASmC,KAAKd,YAAYmB,GAC1BA,EAAQD,QACRvC,SAASmC,KAAKgK,YAAY3J,GAI9B,IAAI0H,EAAgB,EAcpB,SAASlI,IACL,MAAMD,EAASpC,EAASoC,OAAOqK,MACzBhH,EAAQzF,EAASI,WACjBoK,EAAO/E,EAAMgF,QAAQ,GAAGD,KACxBkC,EAASC,OAAOvK,EAAQ,KAExBwK,EADoBrC,EAAgB,EACS,EAC7CsC,EAAoB,UAAUtC,EAC9BuC,EAA8B,UAAUF,EAE9CG,IACA,IAAK,MAAMvE,KAAOgC,EACThC,EAAIqC,YAAYd,MAAM2C,IACvBlE,EAAIkC,UAAUsC,IAAIH,GAEtBrE,EAAIkC,UAAU7J,OAAOiM,GAGzB,MAAMG,EAAQ5M,SAAS6M,YAAY,GACnCD,EAAME,WAAW,IAAIN,4BACjBD,GAA0B,GAC1BK,EAAMG,WAAW,GAGrBxD,EAAcnE,GAEd8E,IAQJ,SAASzE,IA4BL,MACMtD,EADQxC,EAASI,WACJqK,QAAQ,GAE3BM,EAAgBvI,GA9BhB,SAA0BN,GACtB,MAAMzB,EAASyB,EAAMzB,OACrB,GAAyB,IAArBA,EAAOyK,UACP,OAEJ,MAAMmC,EAAaC,EAAgB7M,EAAOoK,aAE1C,IAAIxJ,EACJkM,EAA0BF,GAAY1I,SAAQ,WAC1CoI,IACA,MAAMvE,EAAMhG,EAAKoF,UAAUnH,EAAO+M,cAAcC,UAChDjF,EAAIkF,UAAY,mBAChBrM,EAAOmH,EAAIN,aACX7G,EAAKsM,QAAU,KAEdxJ,MAAK,SAAUyJ,GACZvM,EAAKwM,UAAYD,EACjBpG,EAAUnG,EAAM,KAChBA,EAAKK,YAAY3B,EAAS+N,UAAUT,OAEvCzI,OAAM,SAAUgJ,GACbvM,EAAKwM,UAAYD,EAAOG,QACxBvG,EAAUnG,EAAM,KAChBA,EAAKK,YAAY3B,EAASiO,YAAYX,UAkBtDY,eAAeV,EAA0BW,GACrC,MASMC,EAAY,mDATK,IAAIC,gBAAgB,CACvCC,OAAQ,QACRC,OAAQ,OACRC,cAAe,IACfC,UAAW,GACXlF,OAAQ,IACRmF,KAAM,YACNC,OAAQR,IAEyEhF,WAE/EyF,QAAgBlI,MAAM0H,GACtBS,QAAaD,EAAQE,OAE3B,IACI,OAAOD,EAAKE,MAAMC,MAAM,GAAGC,UAAUC,YACvC,MACE,MAAMC,MAAM,oBASpB,SAASnC,IACL,MAAMoC,EAAezM,EAAI,qBACzB,IAAK,MAAMuM,KAAeE,EACtBF,EAAYpO,SAKpB,MAAMuO,EAAkB,CAAC,QAAS,QAAS,OAAQ,QAAS,WAAY,OAWxE,SAAS9B,EAAgB+B,GACrB,GAAIA,EAAK9F,SAAS,gBACd,MAAO,kBAEX,GAAI8F,EAAK9F,SAAS,WACd,MAAO,UAEX,IAAK,MAAM+F,KAAQF,EACf,GAAIC,EAAK9F,SAAS+F,GACd,OAAOA,EAGf,OAAOD"}